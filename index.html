<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EmailJS Sender</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      padding: 2em;
      color: #222;
    }
    form {
      background: #fff;
      padding: 2em;
      border-radius: 8px;
      box-shadow: 0 0 12px rgba(0,0,0,0.1);
      max-width: 400px;
      margin: auto;
    }
    input, select, button {
      width: 100%;
      padding: 0.7em;
      margin-bottom: 1em;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    button {
      background: #00b956;
      color: white;
      font-weight: bold;
      cursor: pointer;
    }
    button:hover {
      background: #00994c;
    }
  </style>
</head>
<body>

  <form id="email-form">
    <h2>Send Secure Email</h2>
    <input type="text" name="user_name" placeholder="Full Name" required>
    <input type="email" name="user_email" placeholder="Recipient Email" required>
    <input type="text" name="time" placeholder="Time (e.g. 10:45 AM CST)" required>
    <input type="text" name="location" id="location" placeholder="Random US Location" readonly>

    <button type="submit">Send Email</button>
  </form>

  <script>
    // Load EmailJS
    emailjs.init("polrNB6Abb1YmPZYx");

    // Random US city list
    const usCities = [
      "New York, NY", "Los Angeles, CA", "Chicago, IL", "Dallas, TX", "Miami, FL",
      "Phoenix, AZ", "Seattle, WA", "Denver, CO", "Boston, MA", "Atlanta, GA",
      "Houston, TX", "Las Vegas, NV", "Philadelphia, PA", "San Francisco, CA"
    ];

    // Set random location
    document.getElementById("location").value = usCities[Math.floor(Math.random() * usCities.length)];

    // Handle form submission
    document.getElementById("email-form").addEventListener("submit", function(event) {
      event.preventDefault();

      emailjs.sendForm('service_xxpzx9i', 'template_7xa6b3p', this)
        .then(function() {
          alert("✅ Email sent successfully!");
        }, function(error) {
          console.error("EmailJS Error:", error);
          alert("❌ Failed to send email. Check console for error.");
        });
    });
  </script>

</body>
</html>
